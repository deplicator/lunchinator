<!DOCTYLE html>
<html>
<head>
    <title>Lunchanator - Decision Making Made Easy</title>
    <style>
        div, button, form{
            display: block;
            text-align: center;
            margin: 0 auto;
        }
    </style>
	<script src = "https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
	</script>
</head>

<body>
    <div id="chosen">Choose a location below! Scientists HATE us! 97% of people don't know where to eat!</div>

    <button id="roll">WHERE TO!? CLICK TO FIND OUT!</button>
	
	<form id="LocationForm">
		<input type="radio" name="pickList" value="HewlettPackard" checked> Hewlett Packard
		<br>
		<input type="radio" name="pickList" value="CollegeStation"> College Station
		<br>
		<input type="radio" name="pickList" value="PrairieView"> Prairie View
	</form>

    <script>
        (function() {
			var HewlettPackard = [
                        'MOD Pizza',
                        'Jersey Mike\'s Subs',
                        'Torchy\'s Tacos',
                        'Smashburger',
                        'Which Wich',
                        'Chipotle Mexican Grill',
                        'Wacky Mongolian Grill & Bbq',
                        'Mo\'s Irish Pub',
                        'Another Broken Egg Cafe',
                        'Carl\'s Jr.',
                        'Santa Fe Flats',
                        'Chick-fil-A',
                        'Whataburger',
                        'Red Robin',
                        'Taste of China',
                        'Free Birds',
                        'Santa Fe Flats',
                        'Juanita\'s Mexican',
                        'Mango Tree Thai Bistro',
                        'Raising Cane\'s'
            ];
			var CollegeStation = [
                        'FreeBirds',
						'Fuegos',
						'Raising Cane\'s',
						'Laynes',
						'Grub Burger',
						'Torchy\'s Tacos',
						'Sbisa lol no',
						'Whataburger',
						'Vy\'s Kitchen'
            ];
			var PrairieView = [
                        'I dunno',
						'food place'
            ];
			
		    $('#locationForm input').on('change',function(){
		        var areaSelection = $('input[name=pickList]:checked').val();
			    alert($('input[name=pickList]:checked').val());
				
				if(areaSelection.toString() == "HewlettPackard"){
					localStorage.setItem('restaurants', HewlettPackard.toString());
				}
                if(areaSelection.toString() == "CollegeStation"){
                    localStorage.setItem('restaurants', CollegeStation.toString());
                }
                if(areaSelection.toString() == "PrairieView"){
                    localStorage.setItem('restaurants', PrairieView.toString());
                }
				var restaurantList = localStorage.getItem('restaurants');
		        var chosenEl = document.getElementById('chosen');
			    var rollEl = document.getElementById('roll');
				
				if(restaurantList !== null) {
					restaurantList = restaurantList.split(',');
	                function choseitnow() {
		                var x = Math.floor((Math.random() * restaurantList.length));
	                    chosenEl.innerHTML = '<a href="http://maps.google.com/?q=' + restaurantList[x] + '">' + restaurantList[x] + '</a>';
					}
	                rollEl.onclick = choseitnow;
	            } else {
                    localStorage.setItem('restaurants', restaurantDefault.toString());
                    restaurantList = localStorage.getItem('restaurants');
                    restaurantList = restaurantList.split(',');
                    function choseitnow() {
                        var x = Math.floor((Math.random() * restaurantList.length));
                        chosenEl.innerHTML = '<a href="http://maps.google.com/?q=' + restaurantList[x] + '">' + restaurantList[x] + '</a>';
                    }
                    rollEl.onclick = choseitnow;
	            }
	        });

        })();
    </script>

</body>
</html>
